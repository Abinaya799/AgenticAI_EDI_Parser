{
    "partner": "CARRIER5010",
    "edi_version": "005010",
    "profile_version": "1.0.0",
    "segments": {
      "header": {
        "invoice_id": { "seg": "B3", "idx": 2 },
        "invoice_date": { "seg": "B3", "idx": 3, "fmt": "yyyyMMdd" },
        "bol": { "seg": "B3", "idx": 7 },
        "pro": { "seg": "REF", "qual": "CN", "idx": 2 }
      },
      "parties": [
        { "seg": "N1", "qual": "SH", "nameIdx": 2, "mapTo": "parties.ship_from" },
        { "seg": "N1", "qual": "CN", "nameIdx": 2, "mapTo": "parties.ship_to" },
        { "seg": "N1", "qual": "BT", "nameIdx": 2, "mapTo": "parties.bill_to" }
      ],
      "dates": [
        { "seg": "DTM", "qual": "011", "mapTo": "dates.pickup", "fmt": "yyyyMMdd" },
        { "seg": "DTM", "qual": "035", "mapTo": "dates.delivery", "fmt": "yyyyMMdd" }
      ],
      "charges": {
        "strategy": "L1_then_SAC",
        "l1_rules": [
          { "contains": ["BASE FREIGHT","LINEHAUL"], "mapTo": "charges.base_freight" }
        ],
        "sac_rules": [
          { "codeIn": ["FSC"], "mapTo": "charges.fuel_surcharge" },
          { "codeIn": ["DTN","DET"], "mapTo": "charges.detention" }
        ]
      },
      "total": { "seg": "L3", "idx": 1, "fallbackToSum": true }
    },
    "currency": { "default": "USD" }
  }
  